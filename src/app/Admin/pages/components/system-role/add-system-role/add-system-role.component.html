<div class="popup">
    <div class="popup-content">
      <!-- Header -->
      <div class="d-flex justify-content-between mb-3">
        <h4>Add Role</h4>
        <i class="ti ti-x" (click)="onClose()"></i>
      </div>
  
      <!-- Form -->
      <form  [formGroup]="systemForm">
        <div class="form-group">
          <label for="roleName">Role Name</label>
          <input type="text" id="roleName" formControlName="t5_1_sys_roles_name"  placeholder="Enter role name" />
        </div>
    
        <div class="form-group checkbox-group">
          <label>
            <input type="checkbox"  formControlName="t5_1_sys_all_location_access" id="t5_1_sys_all_location_access" /> All Location Access
          </label>
          <label>
            <input type="checkbox" formControlName="t5_1_sys_all_issues" id="t5_1_sys_all_issues" /> All Issue Access
          </label>
        </div>
        <div formArrayName="permissions">
          <div *ngFor="let permissionGroup of permissionsArray.controls; let i = index" [formGroupName]="i" class="permission-row d-flex justify-content-between">
            <label><strong>{{ permissionGroup.get('program_name')?.value }}</strong></label>
        
            <label *ngIf="permissionGroup.get('add')">
              <input type="checkbox" formControlName="add" /> Add
            </label>
        
            <label *ngIf="permissionGroup.get('edit')">
              <input type="checkbox" formControlName="edit" /> Edit
            </label>
        
            <label *ngIf="permissionGroup.get('delete')">
              <input type="checkbox" formControlName="delete" /> Delete
            </label>
        
            <label *ngIf="permissionGroup.get('view')">
              <input type="checkbox" formControlName="view" /> View
            </label>
        
            <label *ngIf="permissionGroup.get('update_from_excel')">
              <input type="checkbox" formControlName="update_from_excel" /> Import Excel
            </label>
        
            <label *ngIf="permissionGroup.get('download_excel')">
              <input type="checkbox" formControlName="download_excel" /> Download Excel
            </label>
        
            <label *ngIf="permissionGroup.get('download_pdf')">
              <input type="checkbox" formControlName="download_pdf" /> Download PDF
            </label>
          </div>
        </div>
        
        
        <div class="col-12 d-flex justify-content-end">
          <button type="submit" class="primary-btn" (click)="addNewRole()">Submit</button>
        </div>
      </form>
    </div>
  </div>
  